# public_proto_nov19

## Eva: Lateral Thinking Puzzle Game Prototype

This folder contains the frontend interface for the Nov 19 tech prototype — a voice-interactive puzzle game hosted by Eva, an AI-powered game master. It connects with a Node.js backend to handle voice input, transcription, AI evaluation, and voice feedback.

---

## Files Overview

### `index.html`

The main HTML page that loads the jQuery Terminal and controls for interacting with Eva.

- Terminal interface for puzzle solving
- Button for filling in latest transcription
- Status indicators for recording and system state

---

### `script_html.js`

Handles communication between the frontend and backend via `fetch`:

- Starts/stops recording with the `.` key
- Fetches current node status (`/status`)
- Retrieves latest transcription from the server (`/latest-transcription`)
- Triggers UI updates and user input submission

---

### `script.js`

Controls the terminal logic and puzzle gameplay.

- Defines multiple lateral thinking puzzles
- Sends guesses to OpenAI for evaluation
- Listens for the correct keyword to trigger win conditions
- Calls ElevenLabs API via backend to generate and play audio responses

---

## How to Play

1. Run the backend server (`node index_arduino.js`)
2. Open the browser at `http://localhost:3001/`
3. Eva will greet you and guide you through the puzzle game
4. Press `.` (period key) to start voice input
5. Release `.` to stop recording
6. Click “Fill in transcription” or wait for the transcription to auto-fill
7. Submit your guess — Eva will respond with "yes", "no", or "doesn't relate"
8. Ask for hints or try solving the puzzle!

---

## Voice Features

- Your voice input is transcribed via OpenAI Whisper
- Responses are generated by GPT
- Eva's voice is cloned and updated via ElevenLabs using your own audio
- AI feedback is both spoken and displayed in the terminal

---

## Notes

- Make sure you have `.env` set up in the root folder with:
  - OPENAI_API_KEY=your-openai-key
  - ELEVEN_LABS_API_KEY=your-elevenlabs-key
  - GPTAPIKEY=your-gpt4-api-key
- The backend lives in the root `index_arduino.js` file and uses modular logic from `/shared`.
- This version is designed for testing the full prototype flow including voice interaction, GPT reasoning, and game logic.

---

## Related Folders

- `shared/` – shared Node.js modules (audio, mic, OpenAI, ElevenLabs, etc.)
- `audio/` – stores recorded and generated audio files
- `public/` – optional or previous web builds
